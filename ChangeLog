2004-07-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-hierarchy-foreign.c 
	(exchange_hierarchy_foreign_add_folder)(remove_folder): Added code to
	create and remove esources for the other user's subscribed folders.
	This fixes #60964

2004-07-24  Francisco Javier F. Serrador  <serrador@cvs.gnome.org>

	* configure.in: Added "es" to ALL_LINGUAS

2004-07-23  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-folder.c (init): Fix
	folder->permanent_flags definition
	(camel_exchange_folder_update_message_flags): Fix the list of
	flags to not unset because they aren't set on the server to
	include "JUNK" (since it's never set on the server).
	(camel_exchange_folder_construct): Don't pass the non-server flags
	to the server, or it will think they've changed and waste time
	telling us so.

2004-07-23  Åsmund Skjæveland  <aasmunds@fys.uio.no>

	* configure.in: Added "nn" to ALL_LINGUAS.
	* po/nn.po: Started Norwegian Nynorsk translation.

2004-07-22  Dan Winship  <danw@novell.com>

	* storage/ximian-connector.xml: Remove the quota command, since it
	wasn't implemented.

2004-07-19  Dan Winship  <danw@novell.com>

	* configure.in: 1.5.91

	* NEWS: Update

2004-07-16  Dan Winship  <danw@novell.com>

	* lib/e2k-kerberos.c (krb5_result_to_e2k_kerberos_result):
	"KRB5KDC_ERR_KEY_EXPIRED" is apparently a heimdal-only-ism. Use
	"KRB5KDC_ERR_KEY_EXP" instead.
	(e2k_kerberos_change_password): Likewise, use
	krb5_free_data_contents instead of krb5_data_free.

2004-07-15  Dan Winship  <danw@novell.com>

	* lib/e2k-kerberos.c: Lots of changes: properly namespace the
	functions (now "e2k_kerberos_check_password" and
	"e2k_kerberos_change_password"), remove the code that dealt with
	the local krb5.conf file (libkrb5 can autodetect the servers given
	the realm name), return status code enums rather than arbitrary
	krb5 error codes, and plug a few memory leaks.

	* lib/e2k-global-catalog.c (ntlm_bind): Fill in gc->domain with
	the name of the Windows 2000 domain.

	* lib/test-utils.c (test_ask_password): Split this (the
	password-asking routine) out of test_get_password so it can be
	used by cptest

	* lib/cptest.c: Update for e2k-kerberos changes, don't hard-code
	domain, and ask for the new password rather than taking it on the
	command line.

	* storage/exchange-account.c: Keep a copy of the e-passwords key
	around, rather than recomputing it in 5 different places.
	(is_password_expired): Update for e2k-kerberos changes
	(exchange_account_set_password): Update for e2k-kerberos changes.
	Pop up an error dialog if changing the password fails.
	(exchange_account_connect): When handling a forced password
	change, let the user "Cancel" if he wants.

	* storage/exchange-change-password.glade: HIGify a bit

	* storage/exchange-change-password.c (exchange_get_new_password):
	Clarify this by doing all the handling here rather than in signal
	handlers on the buttons.

	* storage/xc-commands.c (do_change_password): Plug leaks

2004-07-14  Dan Winship  <danw@novell.com>

	* lib/e2k-xml-utils.c (e2k_parse_html): Fix the #ifdef for old
	libxmls to avoid both new calls, not just one of them.

2004-07-09  Dan Winship  <danw@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (set_freebusy_info):
	Set the start/end of the spans correctly so the freebusy component
	doesn't end up effectively empty
	(get_free_busy): Fix the email address in the ORGANIZER props.
	#61045

2004-07-07  Alfred Peng <alfred.peng@sun.com>

	Fix for bugzilla BUG #59196.

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in:
	Replace "Unknown" with "Exchange" in View->Window submenu.

2004-07-05  Nicel KM  <mnicel@novell.com>

	* configure.in : Bump version to 1.5.90

	* po/*.po: latest .po files

2004-07-03  Nicel KM  <mnicel@novell.com>

	* storage/exchange-account.c (get_password): In case of remembering
	password, no need to save the complete account_list. Fixes an 
	evolution crash that happens on adding the exchange account with 
	remember password option checked. 

2004-07-03  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (modify_object):
	Killed some type mismatch warnings.

2004-06-29  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Finding the
	folder type before removing the folder and also removing e-sources
	during rename/move only in case of success.
	Fixes #60685

2004-06-28  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (remove_object):
	Handle deletions of individual occurences of a recurring event.
	In case of deleting single occurance, remove the instance from 
	the component and modify_object.

2004-06-23  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (create_object):
	Update the categories list with the ref for the new component.
	Removed some commented code.
	(modify_object): remove the old and add new category in the category 
	list
	(remove_object): remove ref for component from the category list


2004-06-22  Dan Winship  <danw@novell.com>

	* lib/e2k-uri.c (e2k_uri_append_encoded, e2k_uri_encode): add a
	"wss_encode" flag, saying whether or not to use the Web Storage
	System URI-encoding rules ("/" becomes "_xF8FF_", etc), since some
	places don't want them.

	* lib/e2k-context.c (e2k_context_fba): Don't put multiple &s
	between flags, and use "normal" URI encoding rules without the
	extra goofy WSS rules. Fixes FBA to E2k3 SP1.
	(e2k_context_put_new, e2k_context_proppatch_new): Set wss_encode
	flag to e2k_uri_encode

	* lib/e2k-global-catalog.c (e2k_global_catalog_lookup): Translate
	LDAP_INVALID_CREDENTIALS to E2K_GLOBAL_CATALOG_AUTH_FAILED.

	* lib/e2k-autoconfig.c (reset_owa_derived): Only reset the NT
	domain if it was autodetected
	(e2k_autoconfig_set_username): If setting the NT domain, note that
	it wasn't autodetected.
	(get_ctx_auth_handler): If the NT domain isn't set, set it, and
	note that it *was* autodetected. #60548
	(e2k_autoconfig_check_global_catalog): If using plaintext LDAP
	auth, handle an E2K_GLOBAL_CATALOG_AUTH_FAILED by returning
	E2K_AUTOCONFIG_AUTH_ERROR_TRY_DOMAIN.
	(set_account_uri_string): Update for e2k_uri_append_encoded
	changes

	* lib/actest.c (test_main): handle
	E2K_AUTOCONFIG_AUTH_ERROR_TRY_DOMAIN from
	e2k_autoconfig_check_global_catalog().

	* lib/e2k-freebusy.c (fb_uri_for_dn): Set wss_encode flag to
	e2k_uri_append_encoded

	* lib/gctest.c (do_lookup): add a message for
	E2K_GLOBAL_CATALOG_AUTH_FAILED.

	* storage/exchange-autoconfig-wizard.c (gc_page_next): Likewise

	* storage/exchange-account.c (exchange_account_new): Update for
	e2k_uri_encode change

	* storage/exchange-oof.c (exchange_oof_set): Likewise

2004-06-22  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing 
	ESources in both successful and failure cases of renaming 
	folder.
	Fix for #60531
 
2004-06-22  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fix for #60327
	* calendar/e-cal-backend-exchange.c
	(e_cal_backend_exchange_extract_components): Added new. This creates 
	a list of objects [VEVENTS/VTODO] from a calendar object.
	(receive_objects): Removed. This is now done separately in calendar
	and tasks code.
	(e_cal_backend_exchange_receive_objects): Removed. This is not being
	used anywhere
	* calendar/e-cal-backend-exchange.h : Likewise
	* calendar/e-cal-backend-exchange-calendar.c (receive_objects): This
	now makes use of the extract_component method.
	* calendar/e-cal-backend-exchange-tasks.c (receive_task_objects):
	Implemented

2004-06-21  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-exchange.c (e_contact_from_props): if
	the contact has an attachment, load the message body and see if
	the attachment is a contact picture, and set the E_CONTACT_PHOTO
	property if so. #57801.
	(do_put): if the contact has a photo, put that too. Except that
	this code doesn't work right yet. (Outlook doesn't recognize the
	photo like it should.) So for now, I'm leaving E_CONTACT_PHOTO out
	of supported_fields, so the editor won't let you edit it.
	(e_book_backend_exchange_create_contact): call do_put if there's
	either a note or a photo.
	(e_book_backend_exchange_modify_contact): Make this actually call
	do_put rather than just having a FIXME. 

	* configure.in (ADDRESSBOOK_CFLAGS, EXCHANGE_STORAGE_LIBS): add
	camel

	* storage/main.c (main): Call camel_init()

2004-06-19  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fix for #57868
	* calendar/e-cal-backend-exchange.c (e_cal_backend_exchange_in_cache):
	Modified to now take in the href and update it in the cache
	* calendar/e-cal-backend-exchange.h : Likewise
	* calendar/e-cal-backend-exchange-calendar.c (get_changed_events):
	Pass the href to the new e_cal_backend_exchange_in_cache method.
	* calendar/e-cal-backend-exchange-tasks.c (get_changed_tasks)
	(create_task_object): Likewise

2004-06-18  Sarfraaz Ahmed <asarfraaz@novell.com>

	* addressbook/e-book-backend-exchange.c : Modified the backend 
	members to now accept "opid".
	* addressbook/e-book-backend-gal.c : Similar

2004-06-18  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c (proppatch_date): Freeing
	the date entered only after forming the time stamp.
	Fixes #60342
 
2004-06-17  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_get_static_capabilites): Added the 
	static capability "no-contactlist-option" to disable the menu
	option to create contact lists for the exchange account.
	FIX for #57130 

2004-06-16  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-provider.c (exchange_conf_entries): Add
	junk flags

	* storage/exchange-account.c (exchange_account_new): Record the
	"filter_junk" and "filter_junk_inbox" flag values.

	* mail/mail-stub-exchange.c (get_folder): Set the "filter junk"
	flag on the folder if appropriate

	* camel/camel-exchange-store.c (construct): If "filter_junk" is
	enabled, set the VJUNK flag on the store.

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	If the backend set the "filter junk" flag, set that on the folder.

2004-06-16  Dan Winship  <danw@novell.com>

	* addressbook/e-book-backend-gal.c (query_prop_to_ldap): If the
	prop is "email", translate it to "email_1" so it matches
	correctly.
	(get_contact_list): If build_query returns a NULL query, just
	return success immediately (with no matches) rather than searching
	the entire GC.

	(ldap_search_dtor): we don't need to lock/unlock the view's mutex
	anymore. [copied from e-book-backend-ldap.c]

	(ldap_search_handler): remove the ref/unref of the book view here.
        (e_book_backend_ldap_search): move the ref of the book view
	here.
        (ldap_search_dtor): and the unref to here. [copied from
	e-book-backend-ldap.c]

2004-06-16  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-autoconfig-wizard.glade: Made the activate_defaults
	for the GtkEntries to be TRUE so that the sensitized Forward button
	gets pressed when the user presses Enter key while the focus is in the
	GtkEntry. This fixes #58201

2004-06-14  Dan Winship  <danw@novell.com>

	* shell/e-storage-set-view.c (etree_value_at): Remove unused
	variable

2004-06-14  Sushma Rai  <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_remove_contacts): Handling bulk removal of
	contacts.

	* addressbook/e-book-backend-exchange.c :
	(e_book_backend_exchange_get_static_capabilites): Added "bulk-removes"
	to the static capabilities.
	Fixes #59927

2004-06-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-component.c (impl_upgradeFromVersion): Made as
	void function.

	* storage/exchange-migrate.[ch] (exchange_migrate): ditto
 
2004-06-12  Sushma Rai  <rsushma@novell.com>

	* storage/migr-test.c (main): Removed hard coded values, and
	changes to usage and error messages.

2004-06-12  David Malcolm  <dmalcolm@redhat.com>

	* storage/migr-test.c (main): Fixed command-line arg parsing
	of major, minor and revision

2004-06-10  Dan Winship  <danw@novell.com>

	* shell/e-storage-set-view.c (etree_value_at): Remove support for
	unread count

	* storage/exchange-account.c (exchange_account_update_folder):
	Remove this (and the associated signal).

	* storage/exchange-hierarchy.c
	(exchange_hierarchy_updated_folder): Likewise

	* storage/exchange-hierarchy-webdav.c (rescan): Remove call to
	exchange_hierarchy_updated_folder.

	* mail/mail-stub-exchange.c (folder_changed): Just set the
	folder's unread count. Don't worry about telling the
	ExchangeAccount.

2004-06-10  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-transport.c (exchange_send_to): Fix
	camel_session_get_password() args

	* calendar/e-cal-backend-exchange.c (match_recurrence_sexp):
	Unused, remove.

	* calendar/e-cal-backend-exchange-tasks.c: Remove a bunch of
	unused functions

	* shell/e-storage-set-view.c (pixbuf_free_func): Unused, remove

2004-06-10  Dan Winship  <danw@novell.com>

	* storage/exchange-config-listener.c (add_defaults_for_account,
	remove_defaults_for_account): Remove a lot of dead code

	* storage/apps_evolution_exchange.schemas: No longer relevant

	* storage/Makefile.am: remove gconf schema bits

2004-06-07  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-favorites.c (remove_folder):
	Removing ESources with favorite folder deletion.
	This would be removed with code reorganization (#59168).

2004-06-04  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (remove_esource):
	Checking for absolute URI only for contact folders.
	Fixes #59547

2004-06-04  Duarte Loreto <happyguy_pt@hotmail.com>

	* configure.in: Added Portuguese (pt) to ALL_LINGUAS.

2004-06-03  Dan Winship  <danw@novell.com>

	* storage/xc-backend-view.c (xc_backend_view_new): Put the
	treeview into a scrolled window, so it doesn't go all wacky if
	it's empty. #59009

	* storage/exchange-account.c (exchange_account_connect): Redo this
	a bit; use a "connecting" flag rather than holding the lock the
	whole time. This probably breaks other things, but it prevents a
	deadlock when the exchnage component and the mail component both
	try to connect at the same time.

2004-06-03  Dan Winship  <danw@novell.com>

	* configure.in: Bump version to 1.5.9

	* acinclude.m4 (EVO_LDAP_CHECK): Fix this so it works with
	non-Ximian OpenLDAP packages. (Problem noted by Frederic Crozat)

2004-06-03  Dan Winship  <danw@novell.com>

	* component/*: Gone. Now that we're not using the other
	components' controls to display things, there is no need for the
	shlib proxy. (We still can't move everything into the shlib,
	because then there would be multiple active copies of the exchange
	backend in some cases, and the code is not currently set up to
	deal with that possibility.)
	
	* Makefile.am (SUBDIRS): Remove component

	* configure.in (AC_OUTPUT): Likewise

	* addressbook/Makefile.am (INCLUDES): Remove -I../component

	* addressbook/e-book-backend-exchange.c
	(e_book_backend_exchange_connect): s/xc_backend/exchange_component/

	* addressbook/e-book-backend-gal.c (gal_connect): Likewise

	* calendar/Makefile.am (INCLUDES): Remove -I../component

	* calendar/e-cal-backend-exchange.c (open_calendar):
	s/xc_backend/exchange_component/

	* storage/Makefile.am (INCLUDES): Remove -I../component
	(evolution_exchange_storage_SOURCES): Remove xc-backend.[ch], add
	exchange-component.c (moved here from component/, and merged with
	the former xc-backend.c).

	* storage/GNOME_Evolution_Exchange_Storage.server.in.in: Merge in
	the component factory stuff formerly in
	component/GNOME_Evolution_Exchange_Component.server.in.in

	* storage/exchange-account.c (get_password,
	exchange_account_connect): s/xc_backend/exchange_component/

	* storage/main.c (setup_component_factory): Sets up a bonobo
	factory for the shell component
	(main): Call it.

	* storage/xc-commands.c (xc_folder_get_account):
	s/xc_backend/exchange_component/

	* storage/connector-mini.png: Replace this 16x16 icon with a 24x24
	one since that's what the shell sidebar needs

2004-06-02  Gareth Owen  <gowen72@yahoo.com>

	* configure.in: Added en_GB to ALL_LINGUAS

2004-06-02  Dan Winship  <danw@novell.com>

	* storage/exchange-account.c (exchange_account_connect): Record
	the favorites hierarchy in a private variable
	(exchange_account_add_favorite, exchange_account_remove_favorite):
	Add. They just proxy to the favorites hierarchy

	* storage/exchange-hierarchy-favorites.c
	(exchange_hierarchy_favorites_add_folder): Implement this
	(remove_folder): And this

	* storage/xc-commands.c (do_add_favorite, do_remove_favorite):
	Implement these

	* lib/e2k-utils.c (e2k_entryid_to_permanenturl): Fix this up a
	little.
	(e2k_permanenturl_to_entryid): Add this, its inverse. Only tested
	on folder urls.

2004-06-01  Kjartan Maraas  <kmaraas@gnome.org>

	* configure.in: Add Norwegian to ALL_LINGUAS.

2004-06-01  Sushma Rai	<rsushma@novell.com>

	Fixes #59385, #59387 
	* storage/e-folder-exchange.c (e_folder_exchange_new)
	(e_folder_exchange_delete): Adding ESources only for personal and 
	favorite folders. 

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing ESources
	during folder rename/move for personal and favorite folders.

	* storage/exchange-account.c (exchange_account_connect): Scan for
	favorites folders to resolve references before expanding the tree.

2004-05-28  Christian Rose  <menthos@menthos.com>

	* configure.in: Added "sv" to ALL_LINGUAS.

2004-05-28  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (receive_objects):
	Fix receive_objects to handle cancelled meeting requests.

2004-05-28  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.[ch](add_esource)(remove_esource)
	(add_sources)(remove_sources): Creating the ESource with absolute URI
	for Contacts and GAL folder, So that GAL can be displayed in and 
	accessed from Contacts view though it has been registered as a 
	seperate protocol. Also creating and removing ESources for favorite 
	folders while account creation and deletion respectively.

	* storage/e-folder-exchange.c (e_folder_exchange_new)
	(e_folder_exchange_delete): Identify folder type while adding and removing
	folders. 

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing ESources 
	while renaming or moving a folder.

	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new):
	Create ESource for GAL folder. 

2004-05-25  Dan Winship  <danw@novell.com>

	* camel/camel-exchange-store.c (get_trash): Update to match the
	camel changes for #57114. (Call camel_store_get_folder() rather
	than using the virtual method directly.)

2004-05-26  Rodney Dawes  <dobey@novell.com>

	* configure.in (BASE_VERSION): Revert to previous change as using
	AC_PACKAGE_VERSION here doesn't actually work with autotools *grmbls*

2004-05-26  Rodney Dawes  <dobey@novell.com>

	* configure.in (BASE_VERSION): Use $AC_PACKAGE_VERSION instead of
	$VERSION, so that intltool-update may substitute it properly

2004-05-26  Sarfraaz Ahmed <asarfraaz@novell.com>

	* storage/exchange-account.c (exchange_account_forget_password): 
	Implemented.
	(exchange_account_set_password): remember password only if save_passwd
	is TRUE.
	* storage/exchange-account.h: Likewise
	* storage/exchange-config-listener.c (account_removed): forget the 
	stored passwords.
	* storage/xc-backend.c (idle_do_interactive): Call oof only if xid is
	present.

2004-05-26  Sushma Rai <rsushma@novell.com>

	* addressbook/e-book-backend-exchange.c 
	(e_book_backend_exchange_get_supported_fields): Using 
	e_contact_field_name()

2004-05-26  Not Zed  <NotZed@Ximian.com>

	* camel/camel-exchange-store.c (make_folder_info): fixed for camel
	api change, removed path.

2004-05-25  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange.c (get_object_list):
	put get_object_list in. recurrence part to be looked at

2004-05-24  Sarfraaz Ahmed  <asarfraaz@novell.com>

	Fixes #58754

	* calendar/e-cal-backend-exchange-tasks.c (create_task_object): Set 
	summary to empty string when it is NULL.

2004-05-21  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Return a
	better error when failing to rename a stock folder. #57387.

	* mail/mail-stub-exchange.c (rename_folder): Send the URI from the
	newly-renamed folder, not the no-longer-existent old folder

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	* camel/camel-exchange-store.c (exchange_get_folder): 
	* mail/mail-stub.c (connection_handler):
	* mail/mail-stub-exchange.c (get_folder): Handle the "create
	folder" option to camel_store_get_folder, to fix #57688

2004-05-21  Dan Winship  <danw@novell.com>

	* shell/Makefile.am (libfoldertree_a_SOURCES): Remove
	e-icon-factory; we'll use the one in e-util now

	* shell/e-icon-factory.c: Gone

	* shell/e-folder-type-registry.c
	(e_folder_type_registry_get_icon_for_type, etc): Remove. The
	registry will keep icon names, but the actual pixbufs will come
	from EIconFactory.

	* shell/e-folder-creation-dialog.c (add_folder_types): Use
	EIconFactory to get the actual pixbuf rather than expecting the
	folder type registry to have it.

	* shell/e-storage-set-view.c (get_pixbuf_for_folder): Always use
	EIconFactory, not just for custom icons.

	* storage/main.c (main): e_icon_factory_init ().

	* storage/exchange-hierarchy-webdav.c
	(exchange_hierarchy_webdav_new,
	exchange_hierarchy_webdav_construct): Remove custom_icon arg.
	Always use "stock_folder".
	(exchange_hierarchy_webdav_parse_folder): Use "stock_delete" for
	the trash icon.

	* storage/exchange-hierarchy-foreign.c (hierarchy_foreign_new):
	Remove custom_icon arg to exchange_hierarchy_webdav_construct

	* storage/exchange-account.c (exchange_account_connect): Remove
	the custom_icon arg to exchange_hierarchy_webdav_new.

	* storage/xc-backend.c (setup_folder_type_registry): Change icon
	info to use stock icons. Remove unused DnD stuff.

	* storage/xc-backend-view.c (xc_backend_view_new): Create an
	EUserCreatableItemsHandler too.
	(activated): activate it.

2004-05-21  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* camel/camel-exchange-transport.c (exchange_send_to): Incorporated
	get_password changes from evolution/camel

2004-05-20  Dan Winship  <danw@novell.com>

	* storage/xc-backend-view.c: Lots of changes. Now we show a list
	of accounts in the sidebar and the folder tree in the main view.

	* storage/xc-backend.c (impl_createControls, etc): Update for
	that.

	* storage/xc-commands.c (do_oof, do_delegates,
	do_change_password): Operate on the selected account.

	* storage/exchange-config-listener.c
	(exchange_config_listener_get_accounts): Returns a GSList of
	accounts. (Of course, currently there would be 0 or 1 members.)

2004-05-20  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c (add_timezone_cb) Removed.
	This was not being used anywhere.
	* lib/e2k-global-catalog.c : Some initializations for avoiding
	warnings
	* shell/e-folder-misc-dialogs.c : Similar
	* storage/exchange-hierarchy-favorites.c : Similar

2004-05-20  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (receive_objects): 
	Implement. Use the create_object and modify_object methods

2004-05-19  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-favorites.c: Actually, we weren't
	using that include anyway... not sure what it was doing there.

2004-05-19  Larry Ewing  <lewing@ximian.com>

	* storage/exchange-hierarchy-favorites.c: e-xml-hash-utils.h lives
	in libedataserver now.

2004-05-18  Dan Winship  <danw@novell.com>

	* mail/mail-stub.c (d): Turn off debug spew

2004-05-17  Rodney Dawes  <dobey@ximian.com>

	* storage/Makefile.am (EXTRA_DIST): Remove mail.xpm

2004-05-17  Dan Winship  <danw@novell.com>

	* lib/e2k-result.c (sanitize_bad_multistatus): New routine, used
	by e2k_results_array_add_from_multistatus to fix broken Exchange
	XML so recent versions of libxml2 will parse it correctly.
	(#58528)
	(prop_parse): Invert the transformation here so the rest of
	connector still sees the invalid-but-canonical names.

	* lib/e2k-propnames.h.in: add E2K_NS_MAPI_ID_LEN, the length of
	E2K_NS_MAPI_ID.

2004-05-17  Dan Winship  <danw@novell.com>

	Remove a bunch of 1.4 files that should have been deleted by the
	1.5 import, except that CVS is lame.
	
	* addressbook/pas-backend-ad.[ch]
	* addressbook/pas-backend-exchange.[ch]: Gone

	* calendar/cal-backend-exchange.[ch]
	* calendar/cal-backend-exchange-utils.c
	* calendar/e2k-cache.[ch]
	* calendar/e2k-cal-component.[ch]
	* calendar/e2k-cal-component-todo.c: Gone
	
	* storage/exchange-delegates-control.c: 
	* storage/exchange-delegates-delegates.c: 
	* storage/exchange-delegates-delegators.c:
	* storage/mail.xpm: Gone

	* storage/Makefile.am (evolution_exchange_storage_SOURCES): Sort

2004-05-14  Dan Winship  <danw@novell.com>

	* component/exchange-component.c: Remove backend/backend_component
	split.
	(impl_createControls): Now just calls the backend createControls

	* component/Ximian-Connector.idl: Gone. We can just use
	GNOME::Evolution::Component now.

	* component/Makefile.am: remove IDL stuff

	* storage/xc-backend.c: Merge xc-backend-component.c into this.
	This now implements GNOME::Evolution::Component directly rather
	than Ximian::Connector::Backend
	(impl_createControls): Merge the old createSidebar with the old
	exchange-component.c:impl_createControls.

	* storage/exchange-migrate.c:
	* storage/xc-backend-view.c: Remove some unnecessary #includes of
	things that are no longer there

	* storage/xc-backend-component.[ch]: Gone (merged into xc-backend)

	* storage/Makefile.am: remove IDL stuff, xc-backend-component.[ch]

2004-05-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fixes the change password bug#58419

	* storage/exchange-account.c (get_password): Added the code to
        create the kerberos config file, if its not yet created.
        (exchange_account_get_password): Retrives the password stored
        locally.
        (exchange_account_set_password): Updates the server with the new
        password and also updates it locally.
        (exchange_account_connect): Updated the code to use the new
        exchange_get_new_password call.
        * storage/exchange-account.h: Function declarations for
        exchange_account_get_password and exchange_account_set_password
        * storage/exchange-change-password.c (check_pass_cb): Removed the
        e2k_autoconfig calls.
        (exchange_get_new_password): This now returns the new password.
        * storage/exchange-change-password.h: password_data struct now
        contains the new_password.
        * storage/xc-commands.c (do_change_password): This now makes use
        of the new exchange_account_get/set_password and calls
        exchange_get_new_password.

2004-05-14  Sushma Rai  <rsushma@novell.com>
	
	Prevents a crash when the account doesn't have any favorite folders 
	and tried to access favorite folders.

	* storage/exchange-hierarchy-somedav.c (scan_subtree): Initialized
	folders_returned and folders_added to zero.
	
	* lib/e2k-result.c (e2k_result_iter_free): Initializing status
	after checking if iter is NULL.
 
2004-05-13  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy.h (ExchangeHierarchyType): Add values
	for FAVORITES and GAL, and sort the values in the same order we
	want the hierarchies to show up in the tree.

	* storage/exchange-hierarchy.c (add_to_storage): Set the toplevel
	folder's sorting_priority based on its type.

	* storage/exchange-hierarchy-webdav.c
	(exchange_hierarchy_webdav_construct,
	exchange_hierarchy_webdav_new): Remove the sorting_priority arg
	and the call to e_folder_set_sorting_priority. ExchangeHierarchy
	will handle this now.

	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new):
	Use EXCHANGE_HIERARCHY_GAL as the type now

	* storage/exchange-hierarchy-foreign.c (hierarchy_foreign_new):
	update for exchange_hierarchy_webdav_new() change

	* storage/exchange-hierarchy-favorites.c
	(exchange_hierarchy_favorites_new): use
	EXCHANGE_HIERARCHY_FAVORITES as the type now, and don't pass a
	sort order.

	* storage/exchange-account.c (exchange_account_connect): update
	for exchange_hierarchy_webdav_new() change

	* storage/xc-commands.c (do_view_folder): Gone now.
	(do_remove_favorite): Add (FIXMEd)
	(xc_commands_context_menu): Simplify a little for the new
	EXCHANGE_HIERARCHY_ values, add "remove from favorites", and
	generally fix up a little.

2004-05-13  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing
	ESources for the folder which is renamed.

2004-05-13  Sushma Rai  <rsushma@novell.com>

	* storage/e-folder-exchange.c (e_folder_exchange_new): Adding
	ESources if the folder created is of the type personal calendar,
	tasks or contacts.
	(e_folder_exchange_delete): Deleting the ESource for the folder
	that is removed, if it is of the type, personal calendat. tasks
	or contacts.

	* storage/exchange-config-listener.c (add_esource): Made non-static
	(remove_esource) : Removing the source group in case of 
	account deletion and removing only the source for the perticular
	folder from the source group in case of folder deletion.
	Made non-static

	* storage/exchange-config-listener.h: Declarations for add_esource()
	and remove_esource()

	Fixes #57126, #57129 

2004-05-12  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-somedav.c: Split this out from
	exchange-hierarchy-foreign; new abstract class for hierarchies
	that are a subset of webdav folders from somewhere else.

	* storage/exchange-hierarchy-foreign.c: Now a subclass of
	ExchangeHierarchySomeDAV.

	* storage/exchange-hierarchy-favorites.c: New subclass of
	ExchangeHierarchySomeDAV for displaying "favorite" Public Folders.
	(Currently displays simple Outlook favorites correctly, but
	doesn't handle more complex cases, and no way to edit things.)

	* storage/exchange-account.c (exchange_account_connect): Create a
	favorites hierarchy.

	* lib/e2k-utils.c (e2k_entryid_to_permanenturl): New (to create a
	WebDAV permanent URL from a favorites entry)

2004-05-12  Dan Winship  <danw@ximian.com>

	* storage/exchange-change-password.glade: add this file, missing
	from the original import

	* storage/Makefile.am (glade_DATA): add
	exchange-change-password.glade

2004-05-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_sources)(remove_sources):
	Calling e_source_list_sync() after forming the sources for all the 
	folders for each component, instead of calling it for each folder 
	in a loop.
	Fixes bug #58320
 
2004-05-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_esource)(remove_esource):
	Fixed problem with forming the relative uri for the subfolders.
	(add_sources)(remove_sources): Finding physical uri of the folder.

2004-05-12  Sushma Rai  <rsushma@novell.com>

	* component/exchange-component.c (impl_upgradeFromVersion):
	Changed the return type to void.

2004-05-11  Dan Winship  <danw@ximian.com>

	* Ximian Connector 1.5.7, first GPL release.

	* README: Note that this is for evo head, and that it doesn't
	really work, and that you probably want connector-1-4-branch
