2004-05-26  Not Zed  <NotZed@Ximian.com>

	* camel/camel-exchange-store.c (make_folder_info): fixed for camel
	api change, removed path.

2004-05-25  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange.c (get_object_list):
	put get_object_list in. recurrence part to be looked at

2004-05-24  Sarfraaz Ahmed  <asarfraaz@novell.com>

	Fixes #58754

	* calendar/e-cal-backend-exchange-tasks.c (create_task_object): Set 
	summary to empty string when it is NULL.

2004-05-21  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Return a
	better error when failing to rename a stock folder. #57387.

	* mail/mail-stub-exchange.c (rename_folder): Send the URI from the
	newly-renamed folder, not the no-longer-existent old folder

	* camel/camel-exchange-folder.c (camel_exchange_folder_construct):
	* camel/camel-exchange-store.c (exchange_get_folder): 
	* mail/mail-stub.c (connection_handler):
	* mail/mail-stub-exchange.c (get_folder): Handle the "create
	folder" option to camel_store_get_folder, to fix #57688

2004-05-21  Dan Winship  <danw@novell.com>

	* shell/Makefile.am (libfoldertree_a_SOURCES): Remove
	e-icon-factory; we'll use the one in e-util now

	* shell/e-icon-factory.c: Gone

	* shell/e-folder-type-registry.c
	(e_folder_type_registry_get_icon_for_type, etc): Remove. The
	registry will keep icon names, but the actual pixbufs will come
	from EIconFactory.

	* shell/e-folder-creation-dialog.c (add_folder_types): Use
	EIconFactory to get the actual pixbuf rather than expecting the
	folder type registry to have it.

	* shell/e-storage-set-view.c (get_pixbuf_for_folder): Always use
	EIconFactory, not just for custom icons.

	* storage/main.c (main): e_icon_factory_init ().

	* storage/exchange-hierarchy-webdav.c
	(exchange_hierarchy_webdav_new,
	exchange_hierarchy_webdav_construct): Remove custom_icon arg.
	Always use "stock_folder".
	(exchange_hierarchy_webdav_parse_folder): Use "stock_delete" for
	the trash icon.

	* storage/exchange-hierarchy-foreign.c (hierarchy_foreign_new):
	Remove custom_icon arg to exchange_hierarchy_webdav_construct

	* storage/exchange-account.c (exchange_account_connect): Remove
	the custom_icon arg to exchange_hierarchy_webdav_new.

	* storage/xc-backend.c (setup_folder_type_registry): Change icon
	info to use stock icons. Remove unused DnD stuff.

	* storage/xc-backend-view.c (xc_backend_view_new): Create an
	EUserCreatableItemsHandler too.
	(activated): activate it.

2004-05-21  Sarfraaz Ahmed <asarfraaz@novell.com>
	
	* camel/camel-exchange-transport.c (exchange_send_to): Incorporated
	get_password changes from evolution/camel

2004-05-20  Dan Winship  <danw@novell.com>

	* storage/xc-backend-view.c: Lots of changes. Now we show a list
	of accounts in the sidebar and the folder tree in the main view.

	* storage/xc-backend.c (impl_createControls, etc): Update for
	that.

	* storage/xc-commands.c (do_oof, do_delegates,
	do_change_password): Operate on the selected account.

	* storage/exchange-config-listener.c
	(exchange_config_listener_get_accounts): Returns a GSList of
	accounts. (Of course, currently there would be 0 or 1 members.)

2004-05-20  Sarfraaz Ahmed <asarfraaz@novell.com>

	* calendar/e-cal-backend-exchange-tasks.c (add_timezone_cb) Removed.
	This was not being used anywhere.
	* lib/e2k-global-catalog.c : Some initializations for avoiding
	warnings
	* shell/e-folder-misc-dialogs.c : Similar
	* storage/exchange-hierarchy-favorites.c : Similar

2004-05-20  Nicel KM  <mnicel@novell.com>

	* calendar/e-cal-backend-exchange-calendar.c (receive_objects): 
	Implement. Use the create_object and modify_object methods

2004-05-19  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-favorites.c: Actually, we weren't
	using that include anyway... not sure what it was doing there.

2004-05-19  Larry Ewing  <lewing@ximian.com>

	* storage/exchange-hierarchy-favorites.c: e-xml-hash-utils.h lives
	in libedataserver now.

2004-05-18  Dan Winship  <danw@novell.com>

	* mail/mail-stub.c (d): Turn off debug spew

2004-05-17  Rodney Dawes  <dobey@ximian.com>

	* storage/Makefile.am (EXTRA_DIST): Remove mail.xpm

2004-05-17  Dan Winship  <danw@novell.com>

	* lib/e2k-result.c (sanitize_bad_multistatus): New routine, used
	by e2k_results_array_add_from_multistatus to fix broken Exchange
	XML so recent versions of libxml2 will parse it correctly.
	(#58528)
	(prop_parse): Invert the transformation here so the rest of
	connector still sees the invalid-but-canonical names.

	* lib/e2k-propnames.h.in: add E2K_NS_MAPI_ID_LEN, the length of
	E2K_NS_MAPI_ID.

2004-05-17  Dan Winship  <danw@novell.com>

	Remove a bunch of 1.4 files that should have been deleted by the
	1.5 import, except that CVS is lame.
	
	* addressbook/pas-backend-ad.[ch]
	* addressbook/pas-backend-exchange.[ch]: Gone

	* calendar/cal-backend-exchange.[ch]
	* calendar/cal-backend-exchange-utils.c
	* calendar/e2k-cache.[ch]
	* calendar/e2k-cal-component.[ch]
	* calendar/e2k-cal-component-todo.c: Gone
	
	* storage/exchange-delegates-control.c: 
	* storage/exchange-delegates-delegates.c: 
	* storage/exchange-delegates-delegators.c:
	* storage/mail.xpm: Gone

	* storage/Makefile.am (evolution_exchange_storage_SOURCES): Sort

2004-05-14  Dan Winship  <danw@novell.com>

	* component/exchange-component.c: Remove backend/backend_component
	split.
	(impl_createControls): Now just calls the backend createControls

	* component/Ximian-Connector.idl: Gone. We can just use
	GNOME::Evolution::Component now.

	* component/Makefile.am: remove IDL stuff

	* storage/xc-backend.c: Merge xc-backend-component.c into this.
	This now implements GNOME::Evolution::Component directly rather
	than Ximian::Connector::Backend
	(impl_createControls): Merge the old createSidebar with the old
	exchange-component.c:impl_createControls.

	* storage/exchange-migrate.c:
	* storage/xc-backend-view.c: Remove some unnecessary #includes of
	things that are no longer there

	* storage/xc-backend-component.[ch]: Gone (merged into xc-backend)

	* storage/Makefile.am: remove IDL stuff, xc-backend-component.[ch]

2004-05-14  Sarfraaz Ahmed <asarfraaz@novell.com>

	Fixes the change password bug#58419

	* storage/exchange-account.c (get_password): Added the code to
        create the kerberos config file, if its not yet created.
        (exchange_account_get_password): Retrives the password stored
        locally.
        (exchange_account_set_password): Updates the server with the new
        password and also updates it locally.
        (exchange_account_connect): Updated the code to use the new
        exchange_get_new_password call.
        * storage/exchange-account.h: Function declarations for
        exchange_account_get_password and exchange_account_set_password
        * storage/exchange-change-password.c (check_pass_cb): Removed the
        e2k_autoconfig calls.
        (exchange_get_new_password): This now returns the new password.
        * storage/exchange-change-password.h: password_data struct now
        contains the new_password.
        * storage/xc-commands.c (do_change_password): This now makes use
        of the new exchange_account_get/set_password and calls
        exchange_get_new_password.

2004-05-14  Sushma Rai  <rsushma@novell.com>
	
	Prevents a crash when the account doesn't have any favorite folders 
	and tried to access favorite folders.

	* storage/exchange-hierarchy-somedav.c (scan_subtree): Initialized
	folders_returned and folders_added to zero.
	
	* lib/e2k-result.c (e2k_result_iter_free): Initializing status
	after checking if iter is NULL.
 
2004-05-13  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy.h (ExchangeHierarchyType): Add values
	for FAVORITES and GAL, and sort the values in the same order we
	want the hierarchies to show up in the tree.

	* storage/exchange-hierarchy.c (add_to_storage): Set the toplevel
	folder's sorting_priority based on its type.

	* storage/exchange-hierarchy-webdav.c
	(exchange_hierarchy_webdav_construct,
	exchange_hierarchy_webdav_new): Remove the sorting_priority arg
	and the call to e_folder_set_sorting_priority. ExchangeHierarchy
	will handle this now.

	* storage/exchange-hierarchy-gal.c (exchange_hierarchy_gal_new):
	Use EXCHANGE_HIERARCHY_GAL as the type now

	* storage/exchange-hierarchy-foreign.c (hierarchy_foreign_new):
	update for exchange_hierarchy_webdav_new() change

	* storage/exchange-hierarchy-favorites.c
	(exchange_hierarchy_favorites_new): use
	EXCHANGE_HIERARCHY_FAVORITES as the type now, and don't pass a
	sort order.

	* storage/exchange-account.c (exchange_account_connect): update
	for exchange_hierarchy_webdav_new() change

	* storage/xc-commands.c (do_view_folder): Gone now.
	(do_remove_favorite): Add (FIXMEd)
	(xc_commands_context_menu): Simplify a little for the new
	EXCHANGE_HIERARCHY_ values, add "remove from favorites", and
	generally fix up a little.

2004-05-13  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-hierarchy-webdav.c (xfer_folder): Removing
	ESources for the folder which is renamed.

2004-05-13  Sushma Rai  <rsushma@novell.com>

	* storage/e-folder-exchange.c (e_folder_exchange_new): Adding
	ESources if the folder created is of the type personal calendar,
	tasks or contacts.
	(e_folder_exchange_delete): Deleting the ESource for the folder
	that is removed, if it is of the type, personal calendat. tasks
	or contacts.

	* storage/exchange-config-listener.c (add_esource): Made non-static
	(remove_esource) : Removing the source group in case of 
	account deletion and removing only the source for the perticular
	folder from the source group in case of folder deletion.
	Made non-static

	* storage/exchange-config-listener.h: Declarations for add_esource()
	and remove_esource()

	Fixes #57126, #57129 

2004-05-12  Dan Winship  <danw@novell.com>

	* storage/exchange-hierarchy-somedav.c: Split this out from
	exchange-hierarchy-foreign; new abstract class for hierarchies
	that are a subset of webdav folders from somewhere else.

	* storage/exchange-hierarchy-foreign.c: Now a subclass of
	ExchangeHierarchySomeDAV.

	* storage/exchange-hierarchy-favorites.c: New subclass of
	ExchangeHierarchySomeDAV for displaying "favorite" Public Folders.
	(Currently displays simple Outlook favorites correctly, but
	doesn't handle more complex cases, and no way to edit things.)

	* storage/exchange-account.c (exchange_account_connect): Create a
	favorites hierarchy.

	* lib/e2k-utils.c (e2k_entryid_to_permanenturl): New (to create a
	WebDAV permanent URL from a favorites entry)

2004-05-12  Dan Winship  <danw@ximian.com>

	* storage/exchange-change-password.glade: add this file, missing
	from the original import

	* storage/Makefile.am (glade_DATA): add
	exchange-change-password.glade

2004-05-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_sources)(remove_sources):
	Calling e_source_list_sync() after forming the sources for all the 
	folders for each component, instead of calling it for each folder 
	in a loop.
	Fixes bug #58320
 
2004-05-12  Sushma Rai  <rsushma@novell.com>

	* storage/exchange-config-listener.c (add_esource)(remove_esource):
	Fixed problem with forming the relative uri for the subfolders.
	(add_sources)(remove_sources): Finding physical uri of the folder.

2004-05-12  Sushma Rai  <rsushma@novell.com>

	* component/exchange-component.c (impl_upgradeFromVersion):
	Changed the return type to void.

2004-05-11  Dan Winship  <danw@ximian.com>

	* Ximian Connector 1.5.7, first GPL release.

	* README: Note that this is for evo head, and that it doesn't
	really work, and that you probably want connector-1-4-branch
